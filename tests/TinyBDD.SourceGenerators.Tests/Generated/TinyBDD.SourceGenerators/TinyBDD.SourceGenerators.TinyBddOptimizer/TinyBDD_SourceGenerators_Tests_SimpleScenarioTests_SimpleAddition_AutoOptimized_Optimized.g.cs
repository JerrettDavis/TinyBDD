// <auto-generated/>
#nullable enable

namespace TinyBDD.SourceGenerators.Tests
{
    partial class SimpleScenarioTests
    {
        async System.Threading.Tasks.Task SimpleAddition_AutoOptimized_Optimized()
        {
            // Optimized implementation - no boxing!
            var __ctx = TinyBDD.Ambient.Current.Value;
            var __sw = System.Diagnostics.Stopwatch.StartNew();

            try
            {
                // Given: a number
                __sw.Restart();
                int __step0 = 5;
                __sw.Stop();
                __ctx.AddStep(new TinyBDD.StepResult
                {
                    Kind = "Given",
                    Title = "a number",
                    Elapsed = __sw.Elapsed
                });

                // When: add 3
                __sw.Restart();
                int __step1 = __step0 + 3;
                __sw.Stop();
                __ctx.AddStep(new TinyBDD.StepResult
                {
                    Kind = "When",
                    Title = "add 3",
                    Elapsed = __sw.Elapsed
                });

                // Then: equals 8
                __sw.Restart();
                bool __step2 = __step1 == 8;
                __sw.Stop();
                __ctx.AddStep(new TinyBDD.StepResult
                {
                    Kind = "Then",
                    Title = "equals 8",
                    Elapsed = __sw.Elapsed
                });
                if (!__step2)
                {
                    throw new TinyBDD.BddStepException("Assertion failed: equals 8", __ctx, null);
                }
            }
            catch (System.Exception __ex)
            {
                // TODO: Handle errors according to ScenarioOptions
                throw;
            }
        }
    }
}
