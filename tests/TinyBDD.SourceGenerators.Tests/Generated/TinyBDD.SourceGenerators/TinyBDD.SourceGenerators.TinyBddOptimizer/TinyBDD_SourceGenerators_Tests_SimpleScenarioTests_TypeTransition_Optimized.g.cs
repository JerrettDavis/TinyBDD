// <auto-generated/>
#nullable enable

namespace TinyBDD.SourceGenerators.Tests
{
    partial class SimpleScenarioTests
    {
        async System.Threading.Tasks.Task TypeTransition_Optimized()
        {
            // Optimized implementation - no boxing!
            var __ctx = TinyBDD.Ambient.Current.Value;
            var __sw = System.Diagnostics.Stopwatch.StartNew();

            try
            {
                // Given: a number
                __sw.Restart();
                int __step0 = 42;
                __sw.Stop();
                __ctx.AddStep(new TinyBDD.StepResult
                {
                    Kind = "Given",
                    Title = "a number",
                    Elapsed = __sw.Elapsed
                });

                // When: convert to string
                __sw.Restart();
                string __step1 = __step0.ToString();
                __sw.Stop();
                __ctx.AddStep(new TinyBDD.StepResult
                {
                    Kind = "When",
                    Title = "convert to string",
                    Elapsed = __sw.Elapsed
                });

                // Then: is correct
                __sw.Restart();
                bool __step2 = __step1 == "42";
                __sw.Stop();
                __ctx.AddStep(new TinyBDD.StepResult
                {
                    Kind = "Then",
                    Title = "is correct",
                    Elapsed = __sw.Elapsed
                });
                if (!__step2)
                {
                    throw new TinyBDD.BddStepException("Assertion failed: is correct", __ctx, null);
                }
            }
            catch (System.Exception __ex)
            {
                // TODO: Handle errors according to ScenarioOptions
                throw;
            }
        }
    }
}
